2018-08-06 17:06:30.270  INFO 14740 --- [restartedMain] c.e.e.a.S.SpringBootMongoEsApplication   : Starting SpringBootMongoEsApplication on USHYDARITNAG2 with PID 14740 (C:\Users\aritnag\Downloads\Spring-boot-mongo-ES\Spring-boot-mongo-ES\target\classes started by aritnag in C:\Users\aritnag\Downloads\Spring-boot-mongo-ES\Spring-boot-mongo-ES)
2018-08-06 17:06:30.288  INFO 14740 --- [restartedMain] c.e.e.a.S.SpringBootMongoEsApplication   : No active profile set, falling back to default profiles: default
2018-08-06 17:06:30.488  INFO 14740 --- [restartedMain] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7ff3d9d: startup date [Mon Aug 06 17:06:30 IST 2018]; root of context hierarchy
2018-08-06 17:06:34.239  INFO 14740 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-08-06 17:06:34.335  INFO 14740 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data MongoDB - Could not safely identify store assignment for repository candidate interface com.example.elasticsearch.aws.SpringbootmongoES.repository.CustomerESRepository.
2018-08-06 17:06:35.235  INFO 14740 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-08-06 17:06:35.252  INFO 14740 --- [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface com.example.elasticsearch.aws.SpringbootmongoES.repository.CustomerRepository.
2018-08-06 17:06:36.065  INFO 14740 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#3ed3eb94' of type [com.amazonaws.auth.EC2ContainerCredentialsProviderWrapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-06 17:06:36.085  INFO 14740 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#18b4ee40' of type [com.amazonaws.auth.profile.ProfileCredentialsProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-06 17:06:36.096  INFO 14740 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'credentialsProvider' of type [org.springframework.cloud.aws.core.credentials.CredentialsProviderFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-06 17:06:36.102  INFO 14740 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'credentialsProvider' of type [com.amazonaws.auth.AWSCredentialsProviderChain] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-08-06 17:06:37.488  INFO 14740 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8000 (http)
2018-08-06 17:06:37.549  INFO 14740 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2018-08-06 17:06:37.552  INFO 14740 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.32
2018-08-06 17:06:37.589  INFO 14740 --- [localhost-startStop-1] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\Program Files\Java\jdk1.8.0_112\bin;C:\WINDOWS\Sun\Java\bin;C:\WINDOWS\system32;C:\WINDOWS;C:/Program Files/Java/jdk1.8.0_112/bin/../jre/bin/server;C:/Program Files/Java/jdk1.8.0_112/bin/../jre/bin;C:/Program Files/Java/jdk1.8.0_112/bin/../jre/lib/amd64;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\Program Files\Docker\Docker\Resources\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\Program Files (x86)\RSA SecurID Token Common;C:\Program Files\RSA SecurID Token Common;C:\Program Files\Java\jdk1.8.0_112\bin;C:\Program Files (x86)\Intel\iCLS Client\;C:\Program Files\Intel\iCLS Client\;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\System32\WindowsPowerShell\v1.0\;C:\Program Files (x86)\Intel\Intel(R) Management Engine Components\DAL;C:\Program Files\Intel\Intel(R) Management Engine Components\DAL;C:\Program Files (x86)\Intel\Intel(R) Management Engine Components\IPT;C:\Program Files\Intel\Intel(R) Management Engine Components\IPT;C:\Users\aritnag\AppData\Local\Microsoft\WindowsApps;C:\Program Files\Perforce;C:\Program Files\Perforce\DVCS\;;C:\Program Files\Microsoft VS Code\bin;C:\Program Files\RSA SecurID Token Common\;C:\Users\aritnag\AppData\Local\GitHubDesktop\bin;C:\Users\aritnag\Downloads\apache-maven-3.5.4-bin\apache-maven-3.5.4\\bin;C:\Users\aritnag\AppData\Lo;C:\ProgramData\chocolatey\bin;C:\Program Files\nodejs\;C:\Program Files\RSA SecurID Token Common\;C:\Users\aritnag\AppData\Local\GitHubDesktop\bin;C:\Users\aritnag\Downloads\apache-maven-3.5.4-bin\apache-maven-3.5.4\\bin;C:\Program Files\Java\jdk1.8.0_112\bin;;C:\Users\aritnag\AppData\Local\Programs\Fiddler;C:\Users\aritnag\AppData\Roaming\npm;C:\Users\aritnag\Desktop\Softwares\bundle\spring-tool-suite-3.8.2.RELEASE-e4.6.1-win32-x86_64\sts-bundle\sts-3.8.2.RELEASE;;.]
2018-08-06 17:06:37.993  INFO 14740 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-08-06 17:06:37.998  INFO 14740 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 7511 ms
2018-08-06 17:06:40.187  INFO 14740 --- [localhost-startStop-1] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[18.212.164.201:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2018-08-06 17:06:41.013  INFO 14740 --- [localhost-startStop-1] io.searchbox.client.AbstractJestClient   : Setting server pool to a list of 1 servers: [https://search-microservice-cluster-zzfctkiahe5vfwhcv2sopp4dau.us-east-1.es.amazonaws.com/]
2018-08-06 17:06:41.013  INFO 14740 --- [localhost-startStop-1] io.searchbox.client.JestClientFactory    : Using multi thread/connection supporting pooling connection manager
2018-08-06 17:06:41.279  INFO 14740 --- [localhost-startStop-1] io.searchbox.client.JestClientFactory    : Using default GSON instance
2018-08-06 17:06:41.283  INFO 14740 --- [localhost-startStop-1] io.searchbox.client.JestClientFactory    : Node Discovery disabled...
2018-08-06 17:06:41.283  INFO 14740 --- [localhost-startStop-1] io.searchbox.client.JestClientFactory    : Idle connection reaping disabled...
2018-08-06 17:06:42.375  INFO 14740 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-08-06 17:06:42.385  INFO 14740 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'webMvcMetricsFilter' to: [/*]
2018-08-06 17:06:42.386  INFO 14740 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-08-06 17:06:42.386  INFO 14740 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-08-06 17:06:42.386  INFO 14740 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-08-06 17:06:42.386  INFO 14740 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpTraceFilter' to: [/*]
2018-08-06 17:06:42.386  INFO 14740 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]
2018-08-06 17:06:46.034  INFO 14740 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-06 17:06:46.536  INFO 14740 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7ff3d9d: startup date [Mon Aug 06 17:06:30 IST 2018]; root of context hierarchy
2018-08-06 17:06:46.701  INFO 14740 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/es/customer/],methods=[POST]}" onto public void com.example.elasticsearch.aws.SpringbootmongoES.controller.CustomerRestController.save(com.example.elasticsearch.aws.SpringbootmongoES.model.CustomerES)
2018-08-06 17:06:46.701  INFO 14740 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/customer/],methods=[POST]}" onto public void com.example.elasticsearch.aws.SpringbootmongoES.controller.CustomerRestController.save(com.example.elasticsearch.aws.SpringbootmongoES.model.Customer)
2018-08-06 17:06:46.701  INFO 14740 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/customer/]}" onto public java.util.List<com.example.elasticsearch.aws.SpringbootmongoES.model.Customer> com.example.elasticsearch.aws.SpringbootmongoES.controller.CustomerRestController.findAll()
2018-08-06 17:06:46.701  INFO 14740 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/es/customer/first/{firstName}]}" onto public com.example.elasticsearch.aws.SpringbootmongoES.model.CustomerES com.example.elasticsearch.aws.SpringbootmongoES.controller.CustomerRestController.findByFirstNameES(java.lang.String)
2018-08-06 17:06:46.717  INFO 14740 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/customer/cn/{country}]}" onto public java.util.List<com.example.elasticsearch.aws.SpringbootmongoES.model.Customer> com.example.elasticsearch.aws.SpringbootmongoES.controller.CustomerRestController.findByCountry(java.lang.String)
2018-08-06 17:06:46.717  INFO 14740 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/es/customer/last/{lastName}]}" onto public java.util.List<com.example.elasticsearch.aws.SpringbootmongoES.model.CustomerES> com.example.elasticsearch.aws.SpringbootmongoES.controller.CustomerRestController.findByLastNameES(java.lang.String)
2018-08-06 17:06:46.717  INFO 14740 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/es/customer/cn/{country}]}" onto public java.util.List<com.example.elasticsearch.aws.SpringbootmongoES.model.CustomerES> com.example.elasticsearch.aws.SpringbootmongoES.controller.CustomerRestController.findByCountryES(java.lang.String)
2018-08-06 17:06:46.717  INFO 14740 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/es/customer/]}" onto public java.util.List<com.example.elasticsearch.aws.SpringbootmongoES.model.CustomerES> com.example.elasticsearch.aws.SpringbootmongoES.controller.CustomerRestController.findESAll()
2018-08-06 17:06:46.717  INFO 14740 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/customer/last/{lastName}]}" onto public java.util.List<com.example.elasticsearch.aws.SpringbootmongoES.model.Customer> com.example.elasticsearch.aws.SpringbootmongoES.controller.CustomerRestController.findByLastName(java.lang.String)
2018-08-06 17:06:46.717  INFO 14740 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/customer/first/{firstName}]}" onto public com.example.elasticsearch.aws.SpringbootmongoES.model.Customer com.example.elasticsearch.aws.SpringbootmongoES.controller.CustomerRestController.findByFirstName(java.lang.String)
2018-08-06 17:06:46.717  INFO 14740 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/es/sync/],methods=[GET]}" onto public void com.example.elasticsearch.aws.SpringbootmongoES.controller.CustomerRestController.syncMongoAndES()
2018-08-06 17:06:46.733  INFO 14740 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-08-06 17:06:46.735  INFO 14740 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-08-06 17:06:46.964  INFO 14740 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-06 17:06:46.964  INFO 14740 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-08-06 17:06:48.352  INFO 14740 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2018-08-06 17:06:48.951  INFO 14740 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2018-08-06 17:06:48.962  INFO 14740 --- [restartedMain] s.b.a.e.w.s.WebMvcEndpointHandlerMapping : Mapped "{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-08-06 17:06:48.978  INFO 14740 --- [restartedMain] s.b.a.e.w.s.WebMvcEndpointHandlerMapping : Mapped "{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map<java.lang.String, java.lang.String>)
2018-08-06 17:06:48.980  INFO 14740 --- [restartedMain] s.b.a.e.w.s.WebMvcEndpointHandlerMapping : Mapped "{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}" onto protected java.util.Map<java.lang.String, java.util.Map<java.lang.String, org.springframework.boot.actuate.endpoint.web.Link>> org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-08-06 17:06:49.223  INFO 14740 --- [restartedMain] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-08-06 17:06:49.354  INFO 14740 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8000 (http) with context path ''
2018-08-06 17:06:49.361  INFO 14740 --- [restartedMain] c.e.e.a.S.SpringBootMongoEsApplication   : Started SpringBootMongoEsApplication in 20.364 seconds (JVM running for 22.823)
2018-08-06 17:07:00.299  INFO 14740 --- [cluster-ClusterId{value='5b6832c8c78d7439949ca9b1', description='null'}-18.212.164.201:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server 18.212.164.201:27017

com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.connection.SocketStream.open(SocketStream.java:62) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:126) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:114) ~[mongodb-driver-core-3.6.4.jar:na]
	at java.lang.Thread.run(Thread.java:745) [na:1.8.0_112]
Caused by: java.net.SocketTimeoutException: connect timed out
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_112]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_112]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_112]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_112]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_112]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_112]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_112]
	at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_112]
	at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:59) ~[mongodb-driver-core-3.6.4.jar:na]
	at com.mongodb.connection.SocketStream.open(SocketStream.java:57) ~[mongodb-driver-core-3.6.4.jar:na]
	... 3 common frames omitted

2018-08-06 17:08:31.571  INFO 14740 --- [cluster-ClusterId{value='5b6832c8c78d7439949ca9b1', description='null'}-18.212.164.201:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:6, serverValue:2}] to 18.212.164.201:27017
2018-08-06 17:08:31.894  INFO 14740 --- [cluster-ClusterId{value='5b6832c8c78d7439949ca9b1', description='null'}-18.212.164.201:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=18.212.164.201:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 2, 4]}, minWireVersion=0, maxWireVersion=4, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=null, roundTripTimeNanos=316647373}
2018-08-06 17:08:43.493  INFO 14740 --- [http-nio-8000-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-08-06 17:08:43.495  INFO 14740 --- [http-nio-8000-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2018-08-06 17:08:43.613  INFO 14740 --- [http-nio-8000-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 118 ms
2018-08-06 17:08:45.785  INFO 14740 --- [http-nio-8000-exec-1] c.e.e.a.S.c.CustomerRestController       : Fetching customers from database ES [CustomerES [id=AWUIQ5KyGTMDYlaTb5mG, firstName=Aritra, lastName=Nag, title=Mr, location=TTTT, country=India, phonenumber=333333, middleName=ddd], CustomerES [id=AWUIQ5KyGTMDYlaTb5mH, firstName=llllll, lastName=lllllllljkjkjkjk, title=Mr, location=TTTT, country=India, phonenumber=333333, middleName=ddd], CustomerES [id=AWUIQ5KyGTMDYlaTb5mI, firstName=jjjjj, lastName=iiiiii, title=Mr, location=TTTT, country=India, phonenumber=333333, middleName=ddd], CustomerES [id=AWUIQ5KyGTMDYlaTb5mJ, firstName=Aritra, lastName=Nag, title=Mr, location=TTTT, country=India, phonenumber=333333, middleName=ddd]]
2018-08-06 19:39:42.429  INFO 14740 --- [cluster-ClusterId{value='5b6832c8c78d7439949ca9b1', description='null'}-18.212.164.201:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:7, serverValue:3}] to 18.212.164.201:27017
2018-08-06 21:14:18.403  INFO 14740 --- [cluster-ClusterId{value='5b6832c8c78d7439949ca9b1', description='null'}-18.212.164.201:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:8, serverValue:4}] to 18.212.164.201:27017
2018-08-06 22:10:59.607  INFO 14740 --- [RMI TCP Connection(3)-172.23.153.161] inMXBeanRegistrar$SpringApplicationAdmin : Application shutdown requested.
2018-08-06 22:10:59.608  INFO 14740 --- [RMI TCP Connection(2)-172.23.153.161] inMXBeanRegistrar$SpringApplicationAdmin : Application shutdown requested.
2018-08-06 22:10:59.611  INFO 14740 --- [RMI TCP Connection(2)-172.23.153.161] ConfigServletWebServerApplicationContext : Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7ff3d9d: startup date [Mon Aug 06 17:06:30 IST 2018]; root of context hierarchy
2018-08-06 22:10:59.648  INFO 14740 --- [RMI TCP Connection(2)-172.23.153.161] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown
